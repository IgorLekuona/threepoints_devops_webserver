name: ci

on:
  push:
    branches:
      - 'master'

jobs:
  docker:
      runs-on: ubuntu-latest
      steps:
        -
          name: Pruebas de SAST
          run: echo 'Ejecución de pruebas de SAST'
        -
          name: Creación de credenciales
          uses: 1arp/create-a-file-action@0.4.4
          with:
            path: './github/workflows'
            file: 'credentials.ini'
            content: |
              USERNAME = ${{ secrets.USERNAME }}
              PASSWORD = ${{ secrets.PASSWORD }}
        -
          name: Build docker image
          run: docker build --file Dockerfile -t devops_ws .
          # uses: docker/build-push-action@v5
          # with:
          #   context: .
          #   file: Dockerfile
          #   push: true
          #   tags: myimage:latest
          #   outputs: type=docker,dest=/tmp/myimage.tar